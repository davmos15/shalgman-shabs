<!DOCTYPE html>
<html>
<head>
    <title>Firebase Test</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/firebase/9.22.0/firebase-app-compat.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/firebase/9.22.0/firebase-firestore-compat.min.js"></script>
</head>
<body>
    <h1>Firebase Connection Test</h1>
    <button onclick="testWrite()">Test Write to Firebase</button>
    <button onclick="testRead()">Test Read from Firebase</button>
    <div id="results"></div>

    <script>
        // Your Firebase config
        const firebaseConfig = {
            apiKey: "AIzaSyDcIHugMlcAy2VxBBcGc7jrcvNO0O2EfSw",
            authDomain: "shlagman-shabs.firebaseapp.com",
            projectId: "shlagman-shabs",
            storageBucket: "shlagman-shabs.firebasestorage.app",
            messagingSenderId: "718510100727",
            appId: "1:718510100727:web:c4a7afdadfe2ae6e8843f2",
            measurementId: "G-EV7GE2GVQK"
        };

        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();
        
        function log(message) {
            console.log(message);
            document.getElementById('results').innerHTML += '<p>' + message + '</p>';
        }

        function testWrite() {
            log('Testing write to Firebase...');
            
            db.collection('test').doc('connection-test').set({
                message: 'Hello from test!',
                timestamp: firebase.firestore.FieldValue.serverTimestamp()
            }).then(() => {
                log('✅ Write successful!');
            }).catch((error) => {
                log('❌ Write failed: ' + error.message);
            });
        }

        function testRead() {
            log('Testing read from Firebase...');
            
            db.collection('test').doc('connection-test').get().then((doc) => {
                if (doc.exists) {
                    log('✅ Read successful: ' + JSON.stringify(doc.data()));
                } else {
                    log('⚠️ No document found');
                }
            }).catch((error) => {
                log('❌ Read failed: ' + error.message);
            });
        }

        // Auto-test on load
        window.onload = function() {
            log('Firebase initialized');
            log('Click buttons to test read/write');
        };
    </script>
</body>
</html>
